@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500;600&display=swap');
@import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-primary: 99 102 241;
    --color-secondary: 168 85 247;
    --color-accent: 59 130 246;
    --color-success: 34 197 94;
    --color-warning: 251 146 60;
    --color-error: 239 68 68;
    --color-bg-base: 255 255 255;
    --color-bg-subtle: 248 250 252;
    --color-bg-muted: 241 245 249;
    --color-text-base: 15 23 42;
    --color-text-muted: 100 116 139;
    --color-border: 226 232 240;
    --gradient-primary: linear-gradient(135deg, rgb(var(--color-primary)) 0%, rgb(var(--color-secondary)) 100%);
    --gradient-accent: linear-gradient(135deg, rgb(var(--color-accent)) 0%, rgb(var(--color-primary)) 100%);
  }

  .dark {
    --color-bg-base: 15 23 42;
    --color-bg-subtle: 30 41 59;
    --color-bg-muted: 51 65 85;
    --color-text-base: 248 250 252;
    --color-text-muted: 148 163 184;
    --color-border: 51 65 85;
  }

  * {
    @apply border-border;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
  }

  body {
    @apply bg-[rgb(var(--color-bg-base))] text-[rgb(var(--color-text-base))] transition-colors duration-300;
    font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  [dir="rtl"], .rtl {
    font-family: 'Vazirmatn', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  h1 {
    @apply scroll-m-20 tracking-tight;
    font-size: clamp(2rem, 5vw, 3.75rem);
    font-weight: 800;
    line-height: 1.1;
  }

  h2 {
    @apply scroll-m-20 tracking-tight;
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 700;
    line-height: 1.2;
  }

  h3 {
    @apply scroll-m-20 tracking-tight;
    font-size: clamp(1.25rem, 3vw, 2rem);
    font-weight: 600;
    line-height: 1.3;
  }

  h4 {
    @apply scroll-m-20 tracking-tight;
    font-size: clamp(1.125rem, 2.5vw, 1.5rem);
    font-weight: 600;
    line-height: 1.4;
  }

  p {
    font-size: clamp(1rem, 1.5vw, 1.125rem);
    line-height: 1.7;
    @apply mb-4;
  }

  code {
    font-family: 'Roboto Mono', 'Courier New', monospace;
    @apply text-sm bg-[rgb(var(--color-bg-muted))] px-1.5 py-0.5 rounded;
  }

  pre code {
    @apply bg-transparent p-0;
  }

  a {
    @apply text-[rgb(var(--color-primary))] hover:text-[rgb(var(--color-secondary))] transition-colors;
  }

  blockquote {
    @apply border-l-4 border-[rgb(var(--color-primary))] pl-4 italic my-4 text-[rgb(var(--color-text-muted))];
  }

  [dir="rtl"] blockquote {
    @apply border-l-0 border-r-4 pl-0 pr-4;
  }
}

@layer components {
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: var(--gradient-primary);
  }

  .gradient-border {
    position: relative;
    background: rgb(var(--color-bg-base));
    background-clip: padding-box;
    border: 2px solid transparent;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    z-index: -1;
    margin: -2px;
    border-radius: inherit;
    background: var(--gradient-primary);
  }

  .glass {
    @apply bg-white/10 dark:bg-black/10 backdrop-blur-lg border border-white/20 dark:border-white/10;
  }

  .card-hover {
    @apply transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:shadow-primary/20;
  }

  .btn-primary {
    @apply px-6 py-3 rounded-lg font-medium transition-all duration-300;
    @apply bg-[rgb(var(--color-primary))] text-white hover:bg-[rgb(var(--color-secondary))];
    @apply hover:shadow-lg hover:shadow-primary/30 active:scale-95;
  }

  .btn-ghost {
    @apply px-6 py-3 rounded-lg font-medium transition-all duration-300;
    @apply bg-transparent border-2 border-[rgb(var(--color-border))];
    @apply hover:border-[rgb(var(--color-primary))] hover:text-[rgb(var(--color-primary))];
    @apply active:scale-95;
  }

  .typewriter-cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    background: rgb(var(--color-primary));
    animation: blink 1s infinite;
    margin-left: 2px;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  .wave {
    animation: wave 2.5s infinite;
    display: inline-block;
    transform-origin: 70% 70%;
  }

  @keyframes wave {
    0%, 100% { transform: rotate(0deg); }
    10%, 30% { transform: rotate(14deg); }
    20% { transform: rotate(-8deg); }
    40%, 60% { transform: rotate(0deg); }
  }

  .pulse-glow {
    animation: pulse-glow 2s infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 20px rgba(var(--color-primary), 0.3);
    }
    50% {
      box-shadow: 0 0 40px rgba(var(--color-primary), 0.6);
    }
  }

  .loading-dots::after {
    content: '';
    animation: dots 1.5s infinite;
  }

  @keyframes dots {
    0%, 20% { content: ''; }
    40% { content: '.'; }
    60% { content: '..'; }
    80%, 100% { content: '...'; }
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

.markdown-content {
  @apply max-w-none;
}

.markdown-content pre {
  @apply bg-[rgb(var(--color-bg-muted))] p-4 rounded-lg overflow-x-auto my-4;
  scrollbar-width: thin;
  scrollbar-color: rgb(var(--color-primary)) rgb(var(--color-bg-subtle));
}

.markdown-content pre::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.markdown-content pre::-webkit-scrollbar-track {
  background: rgb(var(--color-bg-subtle));
}

.markdown-content pre::-webkit-scrollbar-thumb {
  background: rgb(var(--color-primary));
  border-radius: 4px;
}

.markdown-content pre::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--color-secondary));
}

.markdown-content table {
  @apply w-full border-collapse my-4;
}

.markdown-content th,
.markdown-content td {
  @apply border border-[rgb(var(--color-border))] px-4 py-2;
}

.markdown-content th {
  @apply bg-[rgb(var(--color-bg-subtle))] font-semibold;
}

.markdown-content img {
  @apply rounded-lg my-4 max-w-full h-auto;
}

.markdown-content hr {
  @apply my-8 border-[rgb(var(--color-border))];
}

.markdown-content ul,
.markdown-content ol {
  @apply my-4 space-y-2;
}

.markdown-content li {
  @apply ml-6;
}

[dir="rtl"] .markdown-content li {
  @apply ml-0 mr-6;
}

.markdown-content input[type="checkbox"] {
  @apply mr-2 accent-[rgb(var(--color-primary))];
}

[dir="rtl"] .markdown-content input[type="checkbox"] {
  @apply mr-0 ml-2;
}

.callout {
  @apply p-4 rounded-lg my-4 border-l-4;
}

[dir="rtl"] .callout {
  @apply border-l-0 border-r-4;
}

.callout-note {
  @apply bg-blue-50 dark:bg-blue-950/30 border-blue-500;
}

.callout-tip {
  @apply bg-green-50 dark:bg-green-950/30 border-green-500;
}

.callout-warning {
  @apply bg-yellow-50 dark:bg-yellow-950/30 border-yellow-500;
}

.callout-danger {
  @apply bg-red-50 dark:bg-red-950/30 border-red-500;
}

.callout-quote {
  @apply bg-purple-50 dark:bg-purple-950/30 border-purple-500;
}

html {
  scroll-behavior: smooth;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}